import{d as M,o as m,c as b,e as S,a as s,t as u,_ as z,i as L,j as p,k as P,b as l,w as d,F as U,r as h,h as D,l as K,v as N,g as k}from"./index-CneCw9EU.js";import{_ as T}from"./MainLayout.vue_vue_type_script_setup_true_lang-Bn0miF8K.js";import{U as f,g as F,_ as H,a as C,i as g,b as W}from"./value.handler.util-DBL449gA.js";const E={class:"relative group"},q={class:"popover group-hover:visible group-hover:opacity-100 transition-all duration-200"},G=M({__name:"Popover",props:{text:{}},setup(O){return(i,o)=>(m(),b("div",E,[S(i.$slots,"default",{},void 0,!0),s("span",q,u(i.text),1)]))}}),J=z(G,[["__scopeId","data-v-817e3cd2"]]),Q={class:"flex items-center justify-between mb-3"},X={class:"flex items-center gap-x-4"},Y={class:"bg-white rounded-md px-5 py-3 divide-y-2"},Z={class:"flex items-center justify-end gap-x-3"},ee=["onClick"],se={class:"flex gap-x-2 mb-8"},te={class:"flex justify-between items-center"},ne={class:"flex gap-x-2 mb-8"},le={class:"font-semibold text-lg"},oe={class:"text-slate-500 line-through"},ae={class:"font-semibold text-purple-800"},ie={class:"flex gap-x-2 mb-8"},re={class:"font-semibold text-lg"},ue={class:"text-slate-500"},be=M({__name:"index",setup(O){const i=L(""),o=p({isOpen:!1,isLoading:!1,input:{email:"",role_name:""}}),a=p({isOpen:!1,isLoading:!1,init:{user:{}}}),r=p({isOpen:!1,isLoading:!1,init:{user:{}}}),V=F(),x=["Admin","Member"],w=p(V.map(n=>({...n,model:{role_name:n.role.name}}))),R=P(()=>w.filter(n=>g(n.longname,i.value)||g(n.email,i.value)||g(n.role.name,i.value))),$=()=>{o.isOpen=!0},c=()=>{o.isOpen=!1},j=n=>{a.isOpen=!0,a.init.user=n},v=()=>{a.isOpen=!1,a.init.user.model.role_name=a.init.user.role.name},A=n=>{r.isOpen=!0,r.init.user=n},y=()=>{r.isOpen=!1};return(n,e)=>{const _=h("box-icon");return m(),b(U,null,[l(T,null,{default:d(()=>[s("section",null,[s("div",Q,[e[6]||(e[6]=s("h1",{class:"font-semibold text-xl"},"Daftar Pengguna",-1)),s("div",X,[e[5]||(e[5]=s("span",{class:"font-semibold text-slate-500"},"12 pengguna",-1)),l(H,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t)},null,8,["modelValue"]),s("button",{type:"button",onClick:$,class:"bg-purple-800 px-3 py-2 rounded-lg text-white flex items-center gap-x-1"},[l(_,{name:"plus",class:"size-6 fill-current"}),e[4]||(e[4]=s("span",null,"Tambah Pengguna",-1))])])]),s("div",Y,[(m(!0),b(U,null,D(R.value,(t,B)=>(m(),b("div",{key:B,class:"grid grid-cols-[3fr,1fr] py-2"},[l(W,{user:t},null,8,["user"]),s("div",Z,[l(C,{modelValue:t.model.role_name,"onUpdate:modelValue":I=>t.model.role_name=I,onOnChange:()=>j(t),options:x,placeholder:"Role"},null,8,["modelValue","onUpdate:modelValue","onOnChange"]),l(J,{text:"Hapus User"},{default:d(()=>[s("button",{onClick:()=>A(t),class:"flex transition-all duration-200 text-slate-500 hover:bg-red-100 hover:text-red-400 p-2 rounded-lg"},[l(_,{name:"user-minus",class:"m-auto size-7 fill-current"})],8,ee)]),_:2},1024)])]))),128))])])]),_:1}),l(f,{open:o.isOpen,onClose:c},{default:d(()=>[e[9]||(e[9]=s("p",{class:"text-xl font-bold text-slate-600 mb-1"},"Undang pengguna untuk ditambahkan",-1)),e[10]||(e[10]=s("p",{class:"text-slate-500 mb-6"},"Kirim undangan melalui email. Role dapat diubah kembali nanti.",-1)),s("div",se,[K(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.input.email=t),type:"email",placeholder:"Alamat email",class:"input-primary basis-2/3"},null,512),[[N,o.input.email]]),l(C,{modelValue:o.input.role_name,"onUpdate:modelValue":e[2]||(e[2]=t=>o.input.role_name=t),options:x,placeholder:"Role",class:"basis-1/3"},null,8,["modelValue"])]),s("div",te,[s("button",{onClick:c,type:"button",class:"btn-secondary"},e[7]||(e[7]=[s("span",null,"Batal",-1)])),s("button",{onClick:e[3]||(e[3]=()=>console.log(o.input)),type:"button",class:"btn-primary"},e[8]||(e[8]=[s("span",null,"Kirim",-1)]))])]),_:1},8,["open"]),l(f,{open:a.isOpen,onClose:v},{default:d(()=>{var t;return[e[17]||(e[17]=s("p",{class:"text-xl font-bold text-slate-600 mb-1"},"Ubah role pengguna",-1)),e[18]||(e[18]=s("p",{class:"text-slate-500 mb-6"},"Mengubah role berarti memperbarui tindakan yang bisa dilakukan oleh pengguna",-1)),s("div",ne,[e[14]||(e[14]=s("img",{src:"https://picsum.photos/200/200",alt:"User",class:"size-12 rounded-full"},null,-1)),s("div",null,[s("p",le,u(a.init.user.longname),1),s("p",null,[s("span",oe,u(a.init.user.role.name),1),e[11]||(e[11]=k()),e[12]||(e[12]=s("i",{class:"fa-solid fa-arrow-right mx-2 text-slate-500"},null,-1)),e[13]||(e[13]=k()),s("span",ae,u((t=a.init.user.model)==null?void 0:t.role_name),1)])])]),s("div",{class:"flex justify-between items-center"},[s("button",{onClick:v,type:"button",class:"btn-secondary"},e[15]||(e[15]=[s("span",null,"Batal",-1)])),e[16]||(e[16]=s("button",{onClick:()=>{},type:"button",class:"btn-primary"},[s("span",null,"Simpan")],-1))])]}),_:1},8,["open"]),l(f,{open:r.isOpen,onClose:y},{default:d(()=>[e[22]||(e[22]=s("p",{class:"text-xl font-bold text-slate-600 mb-1"},"Hapus pengguna terdaftar",-1)),e[23]||(e[23]=s("p",{class:"text-slate-500 mb-6"},"Menghapus pengguna berarti menghilangkan pengguna dari aplikasi ini secara permanen",-1)),s("div",ie,[e[19]||(e[19]=s("img",{src:"https://picsum.photos/200/200",alt:"User",class:"size-12 rounded-full"},null,-1)),s("div",null,[s("p",re,u(r.init.user.longname),1),s("p",null,[s("span",ue,u(r.init.user.email),1)])])]),s("div",{class:"flex justify-between items-center"},[s("button",{onClick:y,type:"button",class:"btn-secondary"},e[20]||(e[20]=[s("span",null,"Batal",-1)])),e[21]||(e[21]=s("button",{onClick:()=>{},type:"button",class:"btn-primary"},[s("span",null,"Simpan")],-1))])]),_:1},8,["open"])],64)}}});export{be as default};
